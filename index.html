<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ecclesia Prototype</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link 
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" 
    rel="stylesheet"
  >

  <!-- Global CSS -->
  <link rel="stylesheet" href="css/style.css">
  <!-- Voting-specific CSS -->
  <link rel="stylesheet" href="css/voting.css">
  <!-- Profile-specific CSS -->
  <link rel="stylesheet" href="css/profile.css">
</head>
<body>

  <!-- 1. Election View -->
  <div id="electionView" class="view active">
    <div class="container">
      <h2>Available Elections</h2>
      <p>Tap an election below to begin voting.</p>
      <!-- The JS looks for this to inject election blocks -->
      <div id="electionList"></div>
    </div>
  </div>

  <!-- 2. Position View -->
  <div id="positionView" class="view">
    <div class="container">
      <h2 id="positionElectionTitle"></h2>
      <div id="positionBlock"></div>
      <div class="position-nav">
        <button class="btn" id="skipBtn" onclick="skipPosition()">Skip</button>
        <button class="btn" id="exitElectionBtn" onclick="exitElection()">Exit</button>
      </div>
    </div>
  </div>

  <!-- 3. Review View -->
  <div id="reviewView" class="view">
    <div class="container">
      <h2>Your Election Choices</h2>
      <div id="reviewSummary"></div>
      <button class="btn" onclick="backToElections()">Back to Elections</button>
    </div>
  </div>

  <!-- 4. Profile View -->
  <div id="profileView" class="view">
    <div class="profile-container">
      <!-- Example Ecco Section -->
      <div class="ecco-section">
        <div class="ecco-wrapper">
          <!-- Replace the SVG with this: -->
          <img 
            id="eccoImage" 
            src="images/eccos/ecco.png" 
            alt="Ecco" 
            style="width:300px; height:auto;"
          />
        </div>
      
        <div class="profile-text">
          <h1>James' Ecco</h1>
          <p>
            every vote you'll get rewards which customise your Ecco, eventually 
            they'll become just like you and even suggest who they think you'd 
            like to vote for
          </p>
        </div>
      
        <div class="button-container">
          <button id="claim_reward" class="btn center">0 rewards Available</button>
        </div>
      </div>      
    </div>
  </div>

  <!-- Bottom Navigation -->
  <div class="bottom-nav">
    <button id="navVoting" class="active" onclick="showPrimaryView('electionView')">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14l4-4h12c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>
      </svg>
      Voting
    </button>
    <button id="navProfile" onclick="showPrimaryView('profileView')">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2
                 c-3.3 0-10 1.7-10 5v3h20v-3c0-3.3-6.7-5-10-5z"/>
      </svg>
      Profile
    </button>
  </div>

  <!-- Candidate Overlay (for viewing a candidate's details) -->
  <div id="candidateOverlay" class="overlay">
    <div class="candidate-panel">
      <button class="close-panel" onclick="closeCandidatePanel()">Ã—</button>
      <img id="candidateImage" src="" alt="Candidate Image">
      <h2 id="candidateName"></h2>
      <p><strong>Manifesto:</strong> <span id="candidateManifesto"></span></p>
      <p><strong>AI Summary:</strong> <span id="candidateAISummary"></span></p>
      <div class="social-links" id="candidateSocial"></div>
      <button class="btn" onclick="voteForCandidate()">Vote for this Candidate</button>
    </div>
  </div>

  <!-- Reward Overlay (for voting) -->
  <div id="rewardOverlay" class="overlay">
    <div class="reward-panel">
      <h2>Congratulations!</h2>
      <p>You earned a reward for voting on this position.</p>
      <button class="btn" onclick="rewardConfirmed()">Okay</button>
    </div>
  </div>

  <!-- Scripts -->
  <script src="js/main.js"></script>
  <script src="js/electionData.js"></script>
  <script src="js/voting.js"></script>
  <script src="js/profile.js"></script>
</body>
</html>