<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Mobile Election App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link 
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" 
    rel="stylesheet"
  >

  <!-- Global CSS -->
  <link rel="stylesheet" href="css/style.css">
  <!-- Voting-specific CSS -->
  <link rel="stylesheet" href="css/voting.css">
  <!-- Profile-specific CSS -->
  <link rel="stylesheet" href="css/profile.css">
</head>
<body>

  <!-- 1. Election View -->
  <div id="electionView" class="view active">
    <div class="container">
      <h2>Available Elections</h2>
      <p>Tap an election below to begin voting.</p>
      <!-- The JS looks for this to inject election blocks -->
      <div id="electionList"></div>
    </div>
  </div>

  <!-- 2. Position View -->
  <div id="positionView" class="view">
    <div class="container">
      <h2 id="positionElectionTitle"></h2>
      <div id="positionBlock"></div>
      <div class="position-nav">
        <button class="btn" id="skipBtn" onclick="skipPosition()">Skip</button>
        <button class="btn" id="exitElectionBtn" onclick="exitElection()">Exit</button>
      </div>
    </div>
  </div>

  <!-- 3. Review View -->
  <div id="reviewView" class="view">
    <div class="container">
      <h2>Your Election Choices</h2>
      <div id="reviewSummary"></div>
      <button class="btn" onclick="backToElections()">Back to Elections</button>
    </div>
  </div>

  <!-- 4. Profile View -->
  <div id="profileView" class="view">
    <div class="profile-container">
      <!-- Example Ecco Section -->
      <div class="ecco-section">
        <div class="ecco-wrapper">
          <svg class="ecco-svg" version="1.0" xmlns="http://www.w3.org/2000/svg"
            width="300.000000pt" height="575.000000pt" viewBox="0 0 300.000000 575.000000"
            preserveAspectRatio="xMidYMid meet">
            <g transform="translate(0.000000,575.000000) scale(0.100000,-0.100000)"
            fill="#000000" stroke="strong">
            <path d="M1394 5368 c-130 -11 -249 -43 -369 -102 -306 -150 -502 -406 -571
            -746 -27 -134 -16 -343 25 -479 37 -121 64 -177 136 -286 60 -90 139 -174 232
            -247 l62 -49 -23 -52 c-13 -29 -52 -113 -86 -187 -91 -199 -173 -398 -221
            -540 -41 -118 -43 -131 -43 -240 0 -187 58 -346 173 -472 34 -36 61 -74 61
            -83 0 -10 -25 -144 -55 -299 -94 -483 -224 -1194 -231 -1261 -11 -110 24 -121
            160 -51 122 62 234 146 351 261 113 112 270 315 337 436 23 43 65 113 92 156
            l49 78 27 -33 c14 -17 53 -78 85 -135 188 -331 382 -531 708 -733 114 -71 151
            -84 174 -61 15 15 15 25 4 99 -22 147 -90 533 -161 903 -37 198 -78 422 -91
            497 l-23 136 78 117 c93 137 131 229 147 354 16 116 3 205 -47 333 -32 83
            -244 573 -311 720 -15 32 -25 59 -22 61 111 78 230 196 292 290 59 89 124 234
            147 327 44 177 37 390 -17 565 -142 456 -595 763 -1069 723z m287 -187 c327
            -85 564 -325 646 -657 23 -93 23 -285 0 -379 -63 -257 -213 -455 -439 -579
            -144 -80 -294 -113 -466 -103 -127 8 -198 25 -309 77 -239 111 -401 300 -480
            557 -23 78 -26 104 -26 233 0 116 4 160 21 221 95 347 367 591 727 650 76 12
            241 2 326 -20z m-566 -1820 c129 -46 226 -63 360 -63 135 0 231 17 362 63 47
            17 86 29 88 27 1 -2 50 -102 108 -223 57 -121 137 -286 176 -366 39 -80 78
            -177 87 -215 22 -93 15 -245 -15 -334 -22 -65 -84 -170 -100 -170 -4 0 -16 51
            -26 113 -24 148 -39 176 -98 177 -40 0 -63 -15 -75 -49 -15 -42 32 -310 253
            -1456 67 -350 77 -406 71 -412 -7 -8 -170 116 -255 194 -136 123 -305 354
            -386 527 -49 104 -105 258 -105 288 0 30 -53 78 -88 78 -48 0 -68 -27 -107
            -145 -88 -269 -252 -537 -453 -742 -95 -97 -265 -233 -277 -222 -2 3 21 133
            51 289 189 988 294 1550 294 1581 0 32 -44 69 -83 69 -58 0 -75 -30 -99 -174
            -12 -69 -25 -126 -29 -126 -30 0 -110 161 -129 258 -20 99 -8 241 26 329 42
            106 348 732 357 733 5 0 46 -13 92 -29z"/>
            </g>
         </svg>
        </div>
        <div class="profile-text">
            <h1>James' Ecco</h1>
            <h2>Vote to make your Ecco more like you</h2>
            <p>every vote you'll get rewards which will customise your Ecco, eventually they'll become just like you and even suggest who they think you'd like to vote for</p>
        </div>
        <div>
            <button class="btn center">0 rewards Available</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom Navigation -->
  <div class="bottom-nav">
    <button id="navVoting" class="active" onclick="showPrimaryView('electionView')">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14l4-4h12c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>
      </svg>
      Voting
    </button>
    <button id="navProfile" onclick="showPrimaryView('profileView')">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2
                 c-3.3 0-10 1.7-10 5v3h20v-3c0-3.3-6.7-5-10-5z"/>
      </svg>
      Profile
    </button>
  </div>

  <!-- Candidate Overlay (for viewing a candidate's details) -->
  <div id="candidateOverlay" class="overlay">
    <div class="candidate-panel">
      <button class="close-panel" onclick="closeCandidatePanel()">Ã—</button>
      <img id="candidateImage" src="" alt="Candidate Image">
      <h2 id="candidateName"></h2>
      <p><strong>Manifesto:</strong> <span id="candidateManifesto"></span></p>
      <p><strong>AI Summary:</strong> <span id="candidateAISummary"></span></p>
      <div class="social-links" id="candidateSocial"></div>
      <button class="btn" onclick="voteForCandidate()">Vote for this Candidate</button>
    </div>
  </div>

  <!-- Reward Overlay (for voting) -->
  <div id="rewardOverlay" class="overlay">
    <div class="reward-panel">
      <h2>Congratulations!</h2>
      <p>You earned a reward for voting on this position.</p>
      <button class="btn" onclick="rewardConfirmed()">Okay</button>
    </div>
  </div>

  <!-- Scripts -->
  <script src="js/main.js"></script>
  <script src="js/voting.js"></script>
  <script src="js/profile.js"></script>
</body>
</html>